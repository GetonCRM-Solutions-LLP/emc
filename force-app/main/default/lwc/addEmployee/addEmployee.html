<template>
    <div class="slds-grid slds-wrap form-headers">
        <div class="slds-col slds-size_6-of-12">
            <h1>Personal details</h1>
          </div>
          <div class="slds-col slds-size_6-of-12">
            <h1>Plan details</h1>
        </div>
    </div>
    <div class="slds-grid slds-wrap">
        <template for:each={employeeFields} for:item="field">
            <div key={field.fieldName} class="slds-col slds-size_6-of-12 slds-m-bottom_large" >
                <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_1-of-6">
                        <label>{field.label} :</label>
                    </div>
                    <div class="slds-col slds-size_4-of-6 slds-p-left_small input-border">
                        <div >
                            <template if:true={field.isDateField}>
                                <div class={field.errorClass}>
                                    <c-date-picker is-disable={field.isDisable} data-fieldname={field.fieldName} data-input-type={field.type} date={field.displayValue}  data-key={field.fieldName} ondateselect={handleInputChange}></c-date-picker>
                                    <span if:true={field.isRequired} class="asterisk">*</span>
                                </div>
                            </template>
                            <template if:false={field.isDateField}>
                                <template if:true={field.isDropDown}>
                                        <template if:true={field.isDependentDropDown}>
                                            <div class={field.errorClass}>
                                                <c-dropdown-select data-id={field.fieldName}  data-fieldname={field.fieldName} data-name={field.fieldName}  options={field.dropDownList} 
                                                onchange={handleInputChange} data-input-type={field.type} selected-value={field.value} main-class="default-box-input slds-truncate" ></c-dropdown-select>
                                                <span if:true={field.isRequired} class="asterisk">*</span>
                                            </div>
                                        </template>
                                        <template if:false={field.isDependentDropDown}>
                                            <div class={field.errorClass}>
                                                <c-dropdown-select data-id={field.fieldName}  data-fieldname={field.fieldName} data-name={field.fieldName}  options={field.dropDownList} 
                                                onchange={handleInputChange} data-input-type={field.type} main-class="default-box-input slds-truncate" ></c-dropdown-select>
                                                <span if:true={field.isRequired} class="asterisk">*</span>
                                            </div>
                                        </template>
                                </template>
                                <template if:false={field.isDropDown}>
                                    <template if:true={field.isDrivingState}>
                                        <div class={field.errorClass}>
                                            <c-tag-state-list class="state-list tag-input" modal-class="tag-input-container-add-employee" tags={field.value} onremove={handleRemoveTag} >
                                                <input type="text" placeholder="Enter Driving state" value={newTag} onkeydown={handleTagInput}  />
                                            </c-tag-state-list>
                                            <span class="valid-state" onmouseenter={showTooltip} onmouseleave={hideTooltip} >?</span>
                                            <div class="slds-popover slds-popover_tooltip slds-nubbin_bottom-left state-popover" role="tooltip" id="help">
                                                <div class="slds-popover__body">
                                                    <b>Use State Abbreviations:</b><br/>
                                                    <div class="state-content">{validStateList}</div>
                                                </div>
                                            </div>
                                        </div>
                                    </template>
                                    <template if:false={field.isDrivingState}>
                                        <!-- <template if:true="" ></template> -->
                                        <input  class={field.errorClass} value={field.value} disabled={field.isDisable} data-input-type={field.type} data-fieldname={field.fieldName}  oninput={handleInputChange}  /> 
                                        <span if:true={field.isRequired} class="asterisk">*</span>
                                    </template>
                                    <!-- <input class={field.errorClass} disabled={field.isDisable} data-input-type={field.type} data-fieldname={field.fieldName} onchange={handleInputChange} oninput={handleInputChange} /> -->
                                    <!-- <template if:true={field.isDisable}>
                                        <input class="content-input disabled-input" disabled={field.isDisable} />
                                        <span if:true={field.isRequired} class="asterisk">*</span>
                                    </template>
                                    <template if:false={field.isDisable}>
                                        <input class="content-input" data-input-type={field.type} data-fieldname={field.fieldName} oninput={handleInputChange} />
                                        <span if:true={field.isRequired} class="asterisk">*</span>
                                    </template> -->
    
                                </template>
                            </template>
                        </div>
                    </div>
                    <div class="slds-col slds-size_1-of-6">
        
                    </div>
                </div>
            </div>  
        </template>
    </div>
    <div>
        <button  onclick={AddEmployee} class="slds-btn slds-btn-primary slds-btn-sm btn-submit waves-effect bc-green waves-light mleft-0 add-employee">Submit</button>
        <a class="linked"  onclick={handleMLog} > Resend mLog App Link</a>
        <a class="linked" onclick={handleMBurse} > Resend mBurse App Link</a>
    </div>
</template>