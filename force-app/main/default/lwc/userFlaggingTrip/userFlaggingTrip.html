<template>
    <div class="animate__animated animate__slideInLeft animate__faster">
        <div class="row">
            <div class="container">
                <template lwc:if={modelList}>
                    <c-user-preview-table header-download="true" show-footer="true" flag-preview="true"
                        trip-month={headerName} sync-visible="true" button-label="Sync" divider-class="row-divider--v2"
                        head-th="header-title--v2" sort-th="sort-container p-top-v2" d-flex="flex-block"
                        main-class={classToTable} onrowselection={rowHandler} onsearch={handleSearchEvent}
                        scrollable={isScrollable} is-paginate={paginatedModal} model-data={modelList}
                        columns={modalListColumn} options={modalKeyFields} is-sortable={sortable}
                        inline-checkbox={isCheckbox} onpagecount={renderList} is-default-sort={isSort}
                        colname="tripdate" coltype="Date" sortorder="desc">
                        <template lwc:if={isRecord}>
                            <div slot="filter" class="slds-p-left_small slds-p-bottom_small row">
                                <button
                                    class="slds-btn slds-btn-primary slds-btn-sm waves-effect bc-green waves-light mleft-0 btn-trip slds-float_right"
                                    onclick={downloadAllTrips}><svg xmlns="http://www.w3.org/2000/svg" width="25"
                                        height="25" viewBox="0 0 25 25" fill="none" style="
                                 margin-right: 3px;
                             ">
                                        <path
                                            d="m7.561 11.627 0.032 -0.032 -0.032 0.032 4.273 4.273a0.936 0.936 0 0 0 0.143 0.118 0.625 0.625 0 0 0 0.068 0.036h0.001l0.032 0.018 0.009 0.006 0.048 0.025a0.357 0.357 0 0 0 0.089 0.028l0.007 0.002a0.557 0.557 0 0 0 0.082 0.025l0.002 0.001a0.941 0.941 0 0 0 0.368 0h0.002a0.502 0.502 0 0 0 0.052 -0.018 0.522 0.522 0 0 1 0.027 -0.007l0.002 -0.002 0.032 -0.009 0.057 -0.018a0.527 0.527 0 0 0 0.098 -0.05l0.001 -0.001 0.002 -0.001a0.232 0.232 0 0 1 0.027 -0.016l0.036 -0.022a0.952 0.952 0 0 0 0.143 -0.118l4.273 -4.273a0.941 0.941 0 0 0 0 -1.332 0.941 0.941 0 0 0 -1.332 0l-2.668 2.668V4.843a0.943 0.943 0 0 0 -1.882 0v8.122L8.891 10.297a0.941 0.941 0 0 0 -1.331 0 0.941 0.941 0 0 0 0 1.332Zm13.323 7.718a0.942 0.942 0 0 0 -0.943 -0.941H5.057a0.943 0.943 0 0 0 0 1.881h14.886a0.943 0.943 0 0 0 0.942 -0.942Z"
                                            fill="white" stroke="white" stroke-width="0.10081333333333335"></path>
                                    </svg><!--<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                                    <path d="M9.07367 13.9529L9.11346 13.9131L9.07368 13.9529L14.2022 19.0802L14.2023 19.0803C14.2516 19.1293 14.3102 19.1792 14.3744 19.2204C14.403 19.2393 14.4312 19.2535 14.4561 19.2659L14.4573 19.2665C14.4693 19.2725 14.4812 19.2791 14.4946 19.2864C14.4986 19.2886 14.5027 19.2908 14.507 19.2932C14.5246 19.3028 14.544 19.3131 14.5651 19.3225C14.6014 19.3407 14.6414 19.3505 14.6714 19.3579C14.6738 19.3585 14.6762 19.3591 14.6785 19.3596C14.7113 19.3733 14.7435 19.3822 14.7768 19.3905L14.7768 19.3907L14.7804 19.3913C14.8512 19.4046 14.9278 19.4138 15.0008 19.4138C15.0738 19.4138 15.1504 19.4046 15.2212 19.3913L15.2212 19.3914L15.2245 19.3906C15.2443 19.3858 15.2624 19.3797 15.2782 19.3743C15.2813 19.3733 15.2842 19.3723 15.287 19.3713C15.2995 19.3669 15.3101 19.3633 15.3208 19.3602L15.3208 19.3602L15.3231 19.3595C15.3352 19.3554 15.3489 19.3513 15.3631 19.3469C15.3858 19.34 15.4098 19.3326 15.4308 19.3248C15.4761 19.3096 15.5151 19.2851 15.5479 19.2646L15.5494 19.2636L15.5495 19.2637L15.5508 19.2628C15.56 19.2566 15.5696 19.2518 15.5828 19.2452L15.5838 19.2447C15.5961 19.2385 15.6117 19.2307 15.6277 19.2202L15.6277 19.2202L15.6286 19.2195C15.686 19.1799 15.7447 19.135 15.7994 19.0802L20.9268 13.9529C21.3692 13.5105 21.3692 12.7971 20.9268 12.3547C20.4844 11.9123 19.771 11.9123 19.3287 12.3547L16.1289 15.5545V5.80983C16.1289 5.18688 15.6232 4.68113 15.0002 4.68113C14.3773 4.68113 13.8715 5.18688 13.8715 5.80983V15.5545L10.6718 12.3547C10.2294 11.9123 9.51606 11.9123 9.07368 12.3547C8.63129 12.7971 8.63129 13.5105 9.07367 13.9529ZM25.0605 23.2134V23.2134C25.0602 22.5902 24.5551 22.0847 23.9318 22.0847H6.06821C5.44526 22.0847 4.93951 22.5905 4.93951 23.2134C4.93951 23.8364 5.44526 24.3421 6.06821 24.3421H23.9318C24.5547 24.3421 25.0605 23.8364 25.0605 23.2134Z" fill="white" stroke="white" stroke-width="0.120976"/>
                                    </svg>-->Download</button>
                                <button
                                    class="slds-btn slds-btn-primary slds-btn-sm slds-m-left_small slds-m-right_small waves-effect bc-outline--background waves-light mleft-0 btn-outline-green sync-mileage-btn"
                                    onclick={syncMileage}>
                                    <!--<svg width="25px" height="25px" viewBox="0 0 9.375 9.375" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"/><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/><g id="SVGRepo_iconCarrier"><path d="M7.199 1.66a0.297 0.297 0 0 0 -0.293 0.293v0.949l-0.328 -0.328a2.828 2.828 0 0 0 -4.688 1.086 0.289 0.289 0 0 0 0.18 0.391 0.285 0.285 0 0 0 0.098 0 0.297 0.297 0 0 0 0.277 -0.199 2.199 2.199 0 0 1 0.535 -0.859 2.25 2.25 0 0 1 3.176 0l0.328 0.328h-0.941a0.293 0.293 0 1 0 0 0.586h1.656a0.289 0.289 0 0 0 0.293 -0.293V1.953a0.293 0.293 0 0 0 -0.293 -0.293Z" fill="#7abb4a"/><path d="M7.297 5.344a0.297 0.297 0 0 0 -0.391 0.184 2.199 2.199 0 0 1 -0.535 0.859 2.25 2.25 0 0 1 -3.176 0l-0.328 -0.328h0.965a0.293 0.293 0 1 0 0 -0.586H2.176a0.289 0.289 0 0 0 -0.293 0.293V7.422a0.293 0.293 0 1 0 0.586 0v-0.949l0.328 0.328a2.828 2.828 0 0 0 4.688 -1.086 0.289 0.289 0 0 0 -0.188 -0.371Z" fill="#7abb4a"/></g></svg>--><svg
                                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"
                                        style="enable-background:new 0 0 30 30" xml:space="preserve" width="25"
                                        height="25">
                                        <path
                                            d="m17.083 7.75 -0.25 -0.25c-0.583 -0.5 -1.333 -0.917 -2.083 -1.167 -0.5 -0.167 -1 -0.25 -1.5 -0.25h-1c-0.583 0.083 -1.167 0.25 -1.667 0.5 -1.417 0.667 -2.417 1.667 -3 3 -0.333 0.583 -0.5 1.25 -0.583 1.917 0 0.25 0 0.5 -0.083 0.75 0 0.333 -0.333 0.583 -0.583 0.667 -0.333 0.083 -0.667 0 -0.833 -0.333 -0.083 -0.167 -0.167 -0.333 -0.167 -0.5 0 -1.167 0.25 -2.167 0.75 -3.25 0.75 -1.5 1.833 -2.667 3.333 -3.5 0.75 -0.417 1.583 -0.667 2.5 -0.833 0.583 -0.083 1.167 -0.083 1.75 -0.083 1.583 0.167 3 0.75 4.25 1.833l0.083 0.083V5.167c0 -0.167 0 -0.333 0.083 -0.417 0.167 -0.25 0.583 -0.417 0.917 -0.333 0.333 0.083 0.5 0.333 0.5 0.667v3.5c-0.083 0.333 -0.333 0.583 -0.667 0.583h-3.25c-0.333 0 -0.583 -0.083 -0.75 -0.417 -0.25 -0.417 -0.083 -0.917 0.333 -1.167 0.083 -0.083 0.167 -0.083 0.333 -0.083 0.583 0.333 1.083 0.333 1.583 0.25 0 0.083 0 0.083 0 0zM7 18.5s0 0.083 0 0v1.167c0 0.083 0 0.25 -0.083 0.333 -0.083 0.333 -0.583 0.583 -1 0.417 -0.333 -0.167 -0.417 -0.333 -0.5 -0.667v-3.5c0.083 -0.333 0.333 -0.583 0.667 -0.583h3.25c0.25 0 0.5 0.083 0.667 0.25 0.25 0.25 0.333 0.917 -0.167 1.167 -0.167 0.083 -0.25 0.167 -0.417 0.167H7.917l0.083 0.083c0.333 0.333 0.667 0.583 1 0.75 0.583 0.333 1.167 0.583 1.75 0.667 0.667 0.167 1.417 0.167 2.083 0.083 1.25 -0.167 2.417 -0.667 3.333 -1.583 1 -0.917 1.583 -2.083 1.833 -3.333 0.083 -0.333 0.083 -0.667 0.083 -1 0 -0.25 0.083 -0.417 0.25 -0.583 0.25 -0.25 0.5 -0.25 0.833 -0.167 0.333 0.083 0.417 0.333 0.5 0.667v0.75c-0.083 0.583 -0.167 1.167 -0.333 1.75 -0.333 1 -0.833 1.917 -1.583 2.667 -0.667 0.75 -1.5 1.333 -2.417 1.833 -0.667 0.333 -1.333 0.5 -2.083 0.667 -0.667 0.083 -1.333 0.083 -2 0.083 -1.5 -0.167 -2.75 -0.667 -3.917 -1.667 -0.167 -0.25 -0.25 -0.333 -0.333 -0.417z"
                                            style="fill:#7abb4a" />
                                    </svg> Sync</button>
                            </div>
                        </template>
                        <div slot="header">
                            <div class="slds-float_right">
                                <div class="slds-input-has-icon slds-input-has-icon_right search-holder">
                                    <div class="search-icon-block">
                                        <img class="search-icon" src={searchIcon} />
                                    </div>
                                    <input class="slds-input filter-input" type="text" placeholder="Search"
                                        onkeyup={handleChange} />
                                </div>
                            </div>
                        </div>
                        <!-- <div slot="header-button">
                            <template lwc:if={isRecord}>
                                <button  class="slds-btn slds-btn-primary slds-btn-sm slds-m-left_small slds-m-right_small waves-effect bc-green waves-light mleft-0 btn-trip slds-float_right" onclick={syncMileage}><i class="fa-solid fa-arrows-rotate"></i> Sync</button>
                            </template>
                        </div> -->
                        <div class="slds-cell-fixed checkbox-slot-div-select" slot="checkbox">
                            <template lwc:if={isSubmitVisible}>
                                <div class="corner-loop"><button
                                        class="slds-btn slds-button_outline-brand waves-effect waves-light btn-outline bc-outline--background mleft-0"
                                        onclick={submitHandler}><i class="fa-solid fa-plus fa-icon"></i>Submit</button>
                                </div>
                            </template>
                            <div class="slds-size_6-of-12 corner-select">
                                <c-dropdown-select options={selectList} title="Flag" value={value}
                                    onchange={handlePageChange}
                                    main-class="default-box-input slds-truncate"></c-dropdown-select>
                            </div>
                        </div>
                    </c-user-preview-table>
                </template>
                <div class="slds-m-top_medium">
                    <button class="slds-btn waves-effect btn-grey slds-back-btn slds-btn-sm" onclick={revertHandler}><i
                            class="fas fa-arrow-left"></i></button>
                </div>
            </div>
        </div>
        <c-export-excel></c-export-excel>
    </div>
</template>