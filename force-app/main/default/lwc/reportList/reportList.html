<template>
    <template lwc:if={toastmsg}>
        <div align="right">
            <div  class="toast_msg">{message}</div>
        </div>    
    </template>
    <div if:true={isLoading}  data-id="spinnerblock"> 
        <div class="spinner-background"></div>
        <div class="spinner-load">
            <div class="spinner-border text-light" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
    </div>
    <!-- <template lwc:if={istrue}>
        <c-report-detail class="modal_position_new" report-id={reportID} month-list={monthoption} onclosemodal={handleClose} onprint={handleprint} oncopy={handleCopyEvent}></c-report-detail>
    </template>     -->
    <div class="report-list-container animate__animated animate__slideInLeft animate__faster">
        <template for:each={reportname} for:item="item">
                    <div key={item} class="report_list" >
                        <div class="card_style">
                            <div class="report_title">{item.name}</div>
                            <template for:each={item.reportname} for:item="acc">
                                <div class="report_list_all" key={acc} data-item={acc} onclick={handleReportopen}>{acc}</div>
                            </template>
                        </div> 
                    </div>
        </template>
       
        
    </div>
    <c-user-profile-modal class="modal_position" data-id='attendance_detail_report' header={title} month=''  show-btn={isFalse}
    modal-class={modalclass}
    header-class={headerclass}
    modal-content-style={modalcontentstyle}
    style-header={styleheader}
    subheader-class={subheaderClass}
    close-btn-class={closebtnclass} onclosedialog={handleCloseModal}>
    <div class="modal_header">
        <label class="slds-form-element__label date_label date_label_02 " for="mileageInput-01">Start Date:</label> 
        <div class="flat-container" data-id="from">
            <input class="flat-input  date-selector" onmousedown={handlemousedownonsearch} data-id="from_date" value={fromdate}  lwc:dom="manual" placeholder="Select Start Date" readonly="readonly" data-language='en' />
            <a class="input-button" data-toggle="true">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 12 12" fill="none" >
                    <path d="M10.1089 1.88643H8.94622V1.3946C8.94622 1.11579 8.73044 0.9 8.45162 0.9C8.17281 0.9 7.95703 1.11578 7.95703 1.3946V1.88643H4.07252V1.3946C4.07252 1.11579 3.85674 0.9 3.57792 0.9C3.29911 0.9 3.08333 1.11578 3.08333 1.3946V1.88643H1.92065C1.35247 1.88643 0.9 2.3389 0.9 2.90708V10.2461V10.2461C0.900101 10.8274 1.36579 11.2799 1.92074 11.2799H10.1088C10.677 11.2799 11.1295 10.8275 11.1295 10.2593L11.1295 2.90708C11.1295 2.3389 10.6771 1.88643 10.1089 1.88643ZM1.88927 5.78222H10.1404V10.2461V10.2544L10.1417 10.2625C10.1428 10.2691 10.1411 10.2758 10.1355 10.2822C10.1326 10.2855 10.1293 10.2879 10.1263 10.2894C10.1234 10.2908 10.1219 10.2908 10.1219 10.2908H1.92074C1.904 10.2908 1.89781 10.2857 1.89607 10.2839C1.89433 10.2822 1.88918 10.276 1.88918 10.2593L1.88927 5.78222ZM3.08342 2.87558V3.17305C3.08342 3.45186 3.2992 3.66764 3.57802 3.66764C3.85682 3.66764 4.07261 3.45186 4.07261 3.17305V2.87558H7.97028V3.17305C7.97028 3.45186 8.18606 3.66764 8.46487 3.66764C8.74369 3.66764 8.95947 3.45186 8.95947 3.17305V2.87558H10.1221C10.1389 2.87558 10.1451 2.88072 10.1468 2.88246C10.1486 2.8842 10.1537 2.89037 10.1537 2.90714V4.79313H1.88921V2.90714C1.88921 2.90727 1.88922 2.90519 1.89114 2.90108C1.89308 2.89692 1.89638 2.89202 1.90102 2.88737C1.90566 2.88272 1.91055 2.87942 1.91469 2.87749C1.91873 2.8756 1.92079 2.87558 1.92069 2.87558H3.08342Z" fill="#7ABB4A" stroke="#7ABB4A" stroke-width="0.2"/>
                </svg>
            </a>
        </div>

        <label class="slds-form-element__label date_label date_label_02" for="mileageInput-01">End Date:</label> 
        <div class="flat-container width-small" data-id="to">
            <input class="flat-input date-selector" onmousedown={handlemousedownonsearch} data-id="to_date" value={todate}  lwc:dom="manual" placeholder="Select End Date" readonly="readonly" data-language='en' />
            <a class="input-button" data-toggle="true">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 12 12" fill="none" >
                    <path d="M10.1089 1.88643H8.94622V1.3946C8.94622 1.11579 8.73044 0.9 8.45162 0.9C8.17281 0.9 7.95703 1.11578 7.95703 1.3946V1.88643H4.07252V1.3946C4.07252 1.11579 3.85674 0.9 3.57792 0.9C3.29911 0.9 3.08333 1.11578 3.08333 1.3946V1.88643H1.92065C1.35247 1.88643 0.9 2.3389 0.9 2.90708V10.2461V10.2461C0.900101 10.8274 1.36579 11.2799 1.92074 11.2799H10.1088C10.677 11.2799 11.1295 10.8275 11.1295 10.2593L11.1295 2.90708C11.1295 2.3389 10.6771 1.88643 10.1089 1.88643ZM1.88927 5.78222H10.1404V10.2461V10.2544L10.1417 10.2625C10.1428 10.2691 10.1411 10.2758 10.1355 10.2822C10.1326 10.2855 10.1293 10.2879 10.1263 10.2894C10.1234 10.2908 10.1219 10.2908 10.1219 10.2908H1.92074C1.904 10.2908 1.89781 10.2857 1.89607 10.2839C1.89433 10.2822 1.88918 10.276 1.88918 10.2593L1.88927 5.78222ZM3.08342 2.87558V3.17305C3.08342 3.45186 3.2992 3.66764 3.57802 3.66764C3.85682 3.66764 4.07261 3.45186 4.07261 3.17305V2.87558H7.97028V3.17305C7.97028 3.45186 8.18606 3.66764 8.46487 3.66764C8.74369 3.66764 8.95947 3.45186 8.95947 3.17305V2.87558H10.1221C10.1389 2.87558 10.1451 2.88072 10.1468 2.88246C10.1486 2.8842 10.1537 2.89037 10.1537 2.90714V4.79313H1.88921V2.90714C1.88921 2.90727 1.88922 2.90519 1.89114 2.90108C1.89308 2.89692 1.89638 2.89202 1.90102 2.88737C1.90566 2.88272 1.91055 2.87942 1.91469 2.87749C1.91873 2.8756 1.92079 2.87558 1.92069 2.87558H3.08342Z" fill="#7ABB4A" stroke="#7ABB4A" stroke-width="0.2"/>
                </svg>
            </a>
    
        </div>
    </div>
    <template lwc:if={progressbar}>
        <lightning-progress-bar value={progress}></lightning-progress-bar>
    </template>
   
    <div class="button_class_modal slds-align_absolute-center" >
        
            <button type="button"
            class="slds-btn slds-btn-primary slds-btn-sm waves-effect bc-green waves-light mleft-0 btn-trip" disabled={isAreaDisabled} onclick={handlemodalDelete}>
            {buttonLabel}</button>
            
    </div>
</c-user-profile-modal>
<c-user-profile-modal class="modal_position" data-id='mileges' header='Mileage Lock Date' month=''  show-btn={isFalse}
    modal-class={modalclass}
    header-class={headerclass}
    modal-content-style={modalcontentstyle}
    style-header={styleheader}
    subheader-class={subheaderClass}
    close-btn-class={closebtnclass} onclosedialog={handleCloseModal}>
    <div class="">
        <h2 class="modal_content-class" align="center">{modalcontentmessage}</h2> 
        <h2 class="modal_content-class_1" align="center">{modalcontentmessagenew}</h2> 
    </div>
    <div class="button_class_modal slds-align_absolute-center" >
        
            <button type="button"
            class="slds-btn slds-btn-primary slds-btn-sm waves-effect bc-green waves-light mleft-0 btn-trip" onclick={handlemodalSubmit}>
            Submit</button>
            <button type="button"
            class="slds-btn slds-btn-primary slds-btn-sm waves-effect bc-black waves-light mleft-0 btn-trip" onclick={closeModal}>
            Cancel</button>
    </div>
</c-user-profile-modal>
<c-user-profile-modal  class="modal_position" data-id='attendance_summary_report' header={title} month=''  show-btn={isFalse}
    modal-class={modalclass}
    header-class={headerclass}
    modal-content-style={modalcontentstyle}
    style-header={styleheader}
    subheader-class={subheaderClass}
    close-btn-class={closebtnclass} onclosedialog={handleCloseModal}>
    <div class="modal_header">
        <template  lwc:if={payperioddropdown}>
            <label class="slds-form-element__label date_label date_label_02" for="mileageInput-01">Pay Period:</label> 
            <div class="pay_period" data-id="pay_period">
                <c-dropdown-select class="header_dropdown" 
                    options={payperiodList}
                    title="Select Pay Period"
                    onchange={handleselectPayPeriod}
                    main-class="default-box-input-small slds-truncate" aria-disabled="false">
                </c-dropdown-select>
            </div>
        </template>
        <template if:true={monthlytaxreport}>
            <label class="slds-form-element__label date_label date_label_02" for="mileageInput-01">Month:</label> 
            <div class="pay_period_01">
                <c-dropdown-select class="header_dropdown"
                    options={monthList}
                    title="Select Month"
                    onchange={handleselectMonth}
                    main-class="default-box-input-small slds-truncate">
                </c-dropdown-select>
            </div>
            <label class="slds-form-element__label date_label date_label_02" for="mileageInput-01">Employee Type:</label> 
            <div class="pay_period_01">
                <c-dropdown-select class="header_dropdown"
                    options={emptypeList}
                    title="Select Employee Type"
                    onchange={handleselectemployeeType}
                    main-class="default-box-input-small slds-truncate">
                </c-dropdown-select>
            </div>
        </template>
    </div>
    <template lwc:if={progressbar}>
        <lightning-progress-bar value={progress}></lightning-progress-bar>
    </template>
    <div class="slds-backdrop slds-backdrop_open"></div>
    <div class="button_class_modal slds-align_absolute-center" >
            <template lwc:if={downloadBtn}>
                <button type="button"
                class="slds-btn slds-btn-primary slds-btn-sm waves-effect bc-green waves-light mleft-0 btn-trip" disabled={isAreaDisabled} onclick={handledownloadsummary}>
                Download</button>
            </template>
            <template lwc:if={byweeksubmit}>
                <button type="button"
                class="slds-btn slds-btn-primary slds-btn-sm waves-effect bc-green waves-light mleft-0 btn-trip" disabled={isAreaDisabled} onclick={handleSubmit}>
                Submit</button>
            </template>
        
    </div>
</c-user-profile-modal>


<c-user-profile-modal class="modal_position"  data-id='netchex_variable_payment' header={title} month=''  show-btn={isFalse}
    modal-class={modalclass}
    header-class={headerclass}
    modal-content-style={modalcontentstyle}
    style-header={styleheader}
    subheader-class={subheaderClass}
    close-btn-class={closebtnclass} onclosedialog={handleCloseModal}>
    <div class="modal_header" >
        <label class="slds-form-element__label date_label date_label_02" for="mileageInput-01">Date:</label> 
        <div class="pay_period" data-id="date">
            <c-dropdown-select class="header_dropdown"
                options={dateoption}
                title="Select Date"
                onchange={handleselectDate}
                main-class="default-box-input-small slds-truncate" >
                
            </c-dropdown-select>
        </div>
    </div>
    <template lwc:if={progressbar}>
        <lightning-progress-bar value={progress}></lightning-progress-bar>
    </template>
    <!-- <div class="slds-backdrop slds-backdrop_open"></div> -->
    <div class="button_class_modal slds-align_absolute-center" >
        
            <button type="button"
            class="slds-btn slds-btn-primary slds-btn-sm waves-effect bc-green waves-light mleft-0 btn-trip" disabled={isAreaDisabled} onclick={handleSubmitDate}>
            Submit</button>
        
    </div>
</c-user-profile-modal>

<c-user-profile-modal class="modal_position"  data-id='anual_tax_liability' header='Contact List' month=''  show-btn={isFalse}
    modal-class={modalclass}
    header-class={headerclass}
    modal-content-style={modalcontentstyle}
    style-header={styleheader}
    subheader-class={subheaderClass}
    close-btn-class={closebtnclass} onclosedialog={handleCloseModal}>
    <div class="modal_header" data-id="tax_liability">
        <label class="slds-form-element__label date_label date_label_02" for="mileageInput-01">Year:</label> 
        <div class="year_list">
            <c-dropdown-select class="header_dropdown"
                options={yearList}
                title="Select Year"
                onchange={handleselectYear}
                main-class="default-box-input-small slds-truncate">
            </c-dropdown-select>
        </div>

        <div>
            <div class="display_div">
                <div class="slds-checkbox checkbox_style">
                    <input type="checkbox" class="" data-element-type="checkbox" name="options" id="1" data-id="1"
                        tabindex="0"
                        aria-labelledby="check-select-all-label column-group-header"
                        onclick={handleCheckboxAll} />
                    <label class="slds-checkbox__label" for="1"
                        id="2">
                        <span class="slds-checkbox_faux green_checkbox" data-element-type="checkbox"></span>
                        <!-- <span class="slds-form-element__label slds-assistive-text">Select All</span> -->
                    </label>
                </div><li class="tax_name">Select All</li>
            </div>    
            <template for:each={visibleAccounts} for:item="acc">
                
                <div key={acc.reimbId} class="display_div">
                    <div class="slds-checkbox checkbox_style">
                        <input type="checkbox" class="checkboxCheckUncheckSearch" data-element-type="checkbox" name="options" id={acc.reimbId} data-id={acc.reimbId}
                             tabindex="0"
                            aria-labelledby="check-select-all-label column-group-header"
                            onclick={handleCheckbox} />
                        <label class="slds-checkbox__label" for={acc.reimbId}
                            id={acc.reimbId}>
                            <span class="slds-checkbox_faux green_checkbox" data-element-type="checkbox"></span>
                            <!-- <span class="slds-form-element__label slds-assistive-text">Select All</span> -->
                        </label>
                    </div><li class="tax_name">{acc.name}</li>
                </div>
            </template>
            <div align="center" class="pagination">
                 <c-simple-pagination records={anual_tax_detail} page-size=10 onupdate={handlePageEvent} ></c-simple-pagination>
            </div>
        </div>
    </div>
    <div class="button_class_modal slds-align_absolute-center" >
        
            <button type="button"
            class="slds-btn slds-btn-primary slds-btn-sm waves-effect bc-green waves-light mleft-0 btn-trip" disabled={isAreaDisabled} onclick={handleDownloadExcel}>
            Download</button>
        
    </div>
</c-user-profile-modal>
<c-download-C-S-V-File></c-download-C-S-V-File>  
</template>