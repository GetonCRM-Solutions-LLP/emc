<template>
    <div onclick={insideDivElement}>
        <!-- <label
            class="slds-form-element__label"
            for="combobox-id-2"
            id="combobox-label-id-130"
        >
            <abbr
                if:true={required}
                class="slds-required"
                title="required"
            >* </abbr>
            {label}
        </label> -->
        <div class="slds-form-element__control">
            <div class="slds-combobox_container">
                <div class={classes}>
                    <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
                        <div class="slds-form-element">
                            <div class="slds-form-element__control">
                                <div class={mainClass} onclick={handleFocus}>
                                    <span class="selection__rendered" id="single-action-container" role="textbox"
                                        aria-readonly="true">{selectedValue}</span>
                                    <i if:false={isOpen} class="fa-solid fa-sort-down sort_icon" style="position: absolute;
                                    right: 8px;
                                    top: 10px;"></i>
                                    <i if:true={isOpen} class="fa-solid fa-sort-up sort_icon" style="position: absolute;
                                    right: 8px;
                                    top: 14px;"></i>
                                </div>
                                <!-- sldsValidatorIgnoreNextLine -->
                            </div>
                        </div>

                    </div>
                    <div id="listbox-id-4" class="slds-dropdown  slds-dropdown_fluid" role="listbox"
                        onmousedown={handleDropdownMouseDown} onmouseup={handleDropdownMouseUp}
                        onmouseleave={handleDropdownMouseLeave}>
                        <span class="search--dropdown">
                            <div>
                                <div  class="slds-input-has-icon slds-m-horizontal_xx-small slds-input-has-icon_right search-holder">
                                    <div class="search-icon-block">
                                        <img class="search-icon" src={searchIcon} />
                                    </div>
                                    <input  class={inputClasses}  type="text" placeholder="Search..." value={value}
                                    onkeyup={handleChange} oninput={handleInput} onselect={inputMouseDown} />
                                </div>
                            </div>
                            <!-- <input type="text" id="text-input-id-1" class={inputClasses} value={value}
                                 onkeyup={handleChange} oninput={handleInput} onselect={inputMouseDown}/> onkeydown={handleKeyDown}
                            <i class="fa-solid fa-magnifying-glass fa-lg" style="position: absolute;
                        right: 16px;
                        top: 26px;"></i> -->
                            <!-- <lightning-icon
                                    size="x-small"
                                    style="position: absolute;
                                    right: 0;
                                    top: 16px;"
                                    class="slds-icon slds-input__icon slds-input__icon_right slds-icon-text-default"
                                    icon-name="utility:search"
                                ></lightning-icon> -->
                        </span>
                        <span class="dropdown--results slds-dropdown_length-5">
                            <ul class="slds-listbox slds-listbox_vertical" role="presentation">
                                <template if:false={message}>
                                    <li for:each={tempOptions} for:item="option" key={option.value} role="presentation"
                                        class={option.listclass}>
                                        <div onclick={handleSelect} data-label={option.label} data-id={option.id} class={option.classes}
                                            role="option" data-focused={option.focused}>
                                            <span class="slds-media__body">
                                                <span class="slds-truncate" title={option.label}>{option.label}</span>
                                            </span>
                                        </div>
                                    </li>
                                </template>

                                <template if:true={message}>
                                    <li class="slds-listbox__item">
                                        <span
                                            class="slds-media slds-listbox__option_entity verticalAlign slds-truncate">{message}</span>
                                    </li>
                                </template>
                            </ul>
                        </span>

                    </div>
                </div>
            </div>
        </div>
        <!-- <div
            class="slds-form-element__help"
            if:true={isInvalid}
            id="form-error-01"
        >{messageWhenInvalid}</div> -->
    </div>
</template>